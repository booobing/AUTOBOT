+----------------------------------------------------------------------------------------------------------+
|                                        Text_Generation Class                                                |
+----------------------------------------------------------------------------------------------------------+
                                                 |
                    +-----------------------------------------------------------------------------------+
                    |                            |                           |                           |
        +----------------------+      +----------------------+     +--------------------+     +--------------------+
        |  초기화 & 설정 함수    |      |    파일 처리 함수      |     |    임베딩 함수      |     |   GPT 생성 함수     |
        +----------------------+      +----------------------+     +--------------------+     +--------------------+
        | ▷ __init__          |      | ▷ process_uploaded_ |     | ▷ create_         |     | ▷ gpt_text_       |
        |   - 모델 초기화       |      |   files            |     |   embeddings      |     |   generation      |
        | ▷ initialize_       |      |   - 파일 읽기        |     |   - 텍스트 임베딩   |     |   - 텍스트 생성    |
        |   components        |      |   - 텍스트 추출      |     |   - 캐시 관리      |     |   - 토큰 계산     |
        |   - API 키 설정      |      |                    |     |                    |     |   - 비용 계산      |
        +----------------------+      | ▷ process_and_     |     | ▷ setup_vector_   |     +--------------------+
                                    |   embed_files       |     |   store           |
                                    |   - 파일 처리        |     |   - 벡터 저장소     |
                                    |   - 텍스트 분할      |     |   - FAISS 설정     |
                                    +----------------------+     +--------------------+
                                                 |
                    +-----------------------------------------------------------------------------------+
                    |                            |                           |                           |
        +----------------------+      +----------------------+     +--------------------+     +--------------------+
        |    저장 & 로드 함수    |      |      유틸리티 함수      |     |    캐시 관리 함수    |     |    에러 처리 함수   |
        +----------------------+      +----------------------+     +--------------------+     +--------------------+
        | ▷ save_faiss_index  |      | ▷ load_faiss_index |     | ▷ cache_          |     | ▷ handle_api_     |
        |   - 인덱스 저장       |      |   - 인덱스 로드      |     |   embeddings      |     |   error          |
        | ▷ save_embeddings   |      | ▷ clean_text       |     | ▷ clear_cache     |     | ▷ retry_on_      |
        |   - 임베딩 저장       |      |   - 텍스트 정제      |     |   - 캐시 초기화     |     |   error          |
        +----------------------+      +----------------------+     +--------------------+     +--------------------+

데이터 흐름도:
파일 업로드 → 텍스트 추출 → 텍스트 분할 → 임베딩 생성 → 벡터 저장소 구축 → GPT 모델 활용
     ↓             ↓             ↓              ↓               ↓               ↓
   검증          정제          청크화          캐시          FAISS 인덱스      텍스트 생성